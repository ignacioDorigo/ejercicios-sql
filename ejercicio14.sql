-- Ejercicio 14 --
-- Cuantos socios piden libros que pertenezcan a autores con el mismo nombre que el socio ---- Paso 1: JOINEAR Prestamos con Socios, AutorLibro, AutoresSELECT *FROM PrestamosINNER JOIN Socios ON Prestamos.socio = Socios.codSocioINNER JOIN AutorLibro ON Prestamos.isbn = AutorLibro.isbnINNER JOIN Autores ON AutorLibro.codigo = Autores.codAut-- PASO 2: Filtrar por nombreSocio = nombreAutorSELECT *FROM PrestamosINNER JOIN Socios ON Prestamos.socio = Socios.codSocioINNER JOIN AutorLibro ON Prestamos.isbn = AutorLibro.isbnINNER JOIN Autores ON AutorLibro.codigo = Autores.codAutWHERE Autores.nombre = Socios.nombre-- PASO 3: Hacemos un COUNT de esoSELECT COUNT(DISTINCT Socios.codSocio) as nombreSocioIgualAutorFROM PrestamosINNER JOIN Socios ON Prestamos.socio = Socios.codSocioINNER JOIN AutorLibro ON Prestamos.isbn = AutorLibro.isbnINNER JOIN Autores ON AutorLibro.codigo = Autores.codAutWHERE Autores.nombre = Socios.nombre